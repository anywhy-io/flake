[English](../../build_guide.md) | **简体中文** | [Русский](../Russian/build_guide.md)

# Flake 键盘组装指南

欢迎阅读 Flake 键盘官方组装指南！本指南力求全面且易于遵循，即使这是你第一次组装键盘也能轻松上手。

建议在开始前通读一遍整个指南，以熟悉全部流程。

## 准备工作

在开始焊接或组装之前，请确保你已备齐所有必要的组件和工具。

### 所需工具
*   **电烙铁:** 一把质量好且可调温的电烙铁至关重要。
*   **焊锡:** 出于健康和安全考虑，强烈建议使用无铅焊锡。
*   **助焊剂:** 助焊笔或助焊膏能让焊接过程轻松不少。
*   **镊子:** 处理小元件的必备工具。
*   **螺丝刀:** 用于安装外壳的 M2 螺丝。
*   **(可选) 万用表:** 用于故障排查。

### 所需文件
你需要 PCB 和外壳的生产文件。你可以在这里找到所有必要的文件以及如何订购它们的说明：
➡️ **[核心文件与订购指南](essential_files.md)**

### 物料清单 (BOM)

所需组件根据你构建的键盘尺寸而有所不同。各尺寸的键数如下：
*   **小号 (Small):** 40 键
*   **中号 (Medium):** 46 键
*   **大号 (Large):** 58 键

| 组件 | 小号 (40) | 中号 (46) | 大号 (58) | 备注 |
|:---|:---:|:---:|:---:|:---|
| **焊接组件** | | | | |
| Anywhy Flake v2 PCB | 2 | 2 | 2 | 左右手各一块 |
| Seeed Xiao nRF52840 | 2 | 2 | 2 | 微控制器 |
| JST 1.25 SMD 2针连接器 | 2 | 2 | 2 | 用于电池 |
| MX 热插拔轴座 | 40 | 46 | 58 | 见下方说明 |
| Choc 热插拔轴座 | 40 | 46 | 58 | 见下方说明 |
| 1N4148 二极管 | 40 | 46 | 58 | 每个轴体 1 个 (SOD-123 或 SOD-323) |
| **组装组件** | | | | |
| 焊接完成的 PCB | 2 | 2 | 2 | 来自上一步 |
| 轴体 (Choc v1/v2 或 MX) | 40 | 46 | 58 | 每个轴座 1 个 |
| 键帽 | 40 | 46 | 58 | 必须与你的轴体兼容 |
| 外壳 | 1 套 | 1 套 | 1 套 | 包括左右手的顶壳和底壳 |
| 502030 锂电池 | 2 | 2 | 2 | 或更小尺寸，带 JST 1.25 插头 |
| 6x2mm 橡胶脚垫 | 8 | 8 | 8 | |
| M2x4mm 螺柱 | 6 | 8 | 8 | |
| M2x8mm 平头沉头螺丝 | 12 | 16 | 16 | 例如 DIN965 标准 |

> [!NOTE]
> **轴座说明:** Flake PCB 同时支持 MX 和 Choc 两种轴体。本指南将演示如何焊接两种轴座以获得最大的灵活性。如果你确定未来只会使用一种轴体，可以选择只焊接对应的轴座（MX 或 Choc），而省略另一套。

---

## 1. 焊接 PCB

这是整个组装过程中最细致的部分。请慢慢来，在通风良好的地方工作，并随时复查你的操作。

### 准备工作

#### A. 理解正反面通用的 PCB

Flake 使用的是**正反面通用 PCB**。这意味着左手和右手使用完全相同的 PCB 设计——你只需将其中一块翻面即可。两半的组装过程完全相同。本指南将引导你完成一半的组装。**只需在第二块 PCB 上重复所有步骤，并确保它是翻到反面操作的。**

<img alt="两块正反面通用的 Flake PCB" width="100%" src="../../img/build_guide/pcb.webp">

#### B. 清理主控下方的孔位
由于制造工艺的原因，主控的针脚孔可能会被部分堵塞。在放置主控之前，你必须用镊子尖小心地清理这些堵塞物。

<img alt="清理主控针脚孔前后对比" width="100%" src="../../img/build_guide/rings.webp">

#### C. 分离 PCB (仅限小号版本)
如果你正在组装 40 键的**小号 (Small)**版本（如此指南中所示），你必须从两块 PCB 上掰断最外侧的小指列。**如果你正在组装中号或大号版本，请跳过此步骤，保持 PCB 完整。**

<img alt="为小号版本掰断最外侧一列" width="100%" src="../../img/build_guide/column.webp">

#### D. 准备组件
将 PCB 和要为其中一半焊接的组件摆放好。

<img alt="焊接单边 PCB 所需的所有电子元件" width="100%" src="../../img/build_guide/electronics.webp">

### 步骤 1: 电池连接器 (JST)

> [!TIP]
> 如果你的电池没有 JST 插头，你可以将其直接焊接到 JST 焊盘旁边的 `RAW` (+) 和 `GND` (-) 焊盘上。但不建议这样做，因为这会使以后更换电池变得困难。

1. 将 JST 1.25 连接器放置在 `BT1` 位置的焊盘上。
2. 焊接两个较大的固定焊盘以固定连接器。
3. 焊接两个较小的引脚。

<img alt="焊接 JST 电池连接器" width="100%" src="../../img/build_guide/jst.webp">

### 步骤 2: 主控 (Seeed Xiao)

> [!IMPORTANT]
> 对齐至关重要。未对齐的主控可能会导致键盘无法装入外壳。

1.  将 Xiao 主控放置在 `U1` 轮廓内的焊盘上。USB-C 端口应朝外。
2.  先焊接**一个角上的引脚**，将主控临时固定。
3.  检查对齐情况。如果歪了，重新加热该引脚并调整位置。
4.  对齐后，焊接**对角线的另一个引脚**，将其锁定到位。

<img alt="优先焊接主控对角的引脚" width="100%" src="../../img/build_guide/opposite.webp">

5.  接着焊接所有剩余的引脚。

<img alt="所有主控引脚焊接完成" width="100%" src="../../img/build_guide/controller.webp">

6.  翻转 PCB，焊接主控下方的 `RAW` 和 `GND` 焊盘。

<img alt="焊接主控下方的 RAW 和 GND 焊盘" width="100%" src="../../img/build_guide/power.webp">

### 步骤 3: 二极管

> [!WARNING]
> 注意：二极管有方向性！二极管上的黑线必须与 PCB 丝印上的白线方向一致。方向错误的二极管将导致该按键失灵。

对每个键位重复以下操作：
1.  在两个二极管焊盘中的一个上点上少量焊锡。
2.  用镊子将二极管滑入位，同时重新加热焊点以固定一侧。**确保二极管上的黑线与 PCB 轮廓上的白线对齐。**
3.  焊接二极管的另一条腿。

<img alt="焊接二极管的三步流程" width="100%" src="../../img/build_guide/diode.webp">

### 步骤 4: 热插拔轴座

对每个键位重复以下操作：
1.  将 **MX 轴座**放在上方的位置，**Choc 轴座**放在下方的位置。
2.  焊接每个轴座的两条金属腿。

<img alt="焊接 MX 和 Choc 热插拔轴座" width="100%" src="../../img/build_guide/sockets.webp">

### 焊接完成！
恭喜！你已经完成了一块 PCB 的全部焊接工作。花点时间检查一下你所有的焊点。

<img alt="所有元件焊接完成的 PCB" width="100%" src="../../img/build_guide/soldered.webp">

现在，为第二块 PCB 重复整个焊接过程。记住要在 PCB 的**另一面**进行操作，使其成为第一半的**镜像**。

## 2. 外壳组装

两块 PCB 都焊接好后，就该把所有东西都装进外壳了。

1.  准备好焊接好的 PCB、外壳部件、电池、螺柱和螺丝。

<img alt="最终组装所需的所有组件" width="100%" src="../../img/build_guide/hardware.webp">

2.  将 M2x4mm 的螺柱拧入外壳的**底壳**。

<img alt="安装在底壳上的螺柱" width="100%" src="../../img/build_guide/standoff.webp">

3.  将焊接好的 PCB 放入外壳的**顶壳**中。连接电池的 JST 插头，并将电池放入专用的凹槽中。

> [!WARNING]
> **电池安全:** 连接电池前请再三检查正负极。反接电池（红线接 `GND (-)`，黑线接 `RAW (+)`）会烧毁微控制器。

<img alt="将 PCB 和电池放入顶壳" width="100%" src="../../img/build_guide/inside.webp">

4.  小心地将底壳盖在顶壳上，对齐螺柱孔。将自粘橡胶脚垫贴在底壳上预留的位置。

> [!TIP]
> 对于另一半键盘，将脚垫贴在相对的角落。这样两半键盘在背对背合上时可以平整贴合，方便携带。

<img alt="组装好的外壳底部及橡胶脚垫" width="100%" src="../../img/build_guide/feets.webp">

5. 从顶部插入 M2x8mm 螺丝并拧紧。不要拧得过紧。

<img alt="从顶部安装螺丝以固定外壳" width="100%" src="../../img/build_guide/assembled.webp">

**重复**这个组装过程，完成键盘的另一半。

## 3. 最后组装

> [!IMPORTANT]
> 如果你使用 MX 轴体，必须在插入轴体*之前*将附带的 MX 定位板放在键盘上。

1.  **安装轴体：** 将你选择的轴体（MX 或 Choc）轻轻按入对应的热插拔轴座。确保轴体针脚是直的，以免弯曲。

<img alt="插入 MX 或 Choc 轴体" width="100%" src="../../img/build_guide/switches.webp">

2.  **安装键帽：** 将键帽牢固地按在轴体的轴心上。

<img alt="完全组装好的 Flake 键盘" width="100%" src="../../img/build_guide/done.webp">


## 大功告成！
恭喜你成功组装了自己的 Flake 键盘！现在你的键盘在物理上已经完成了。

最后一步是刷写固件，使其功能完整。请继续阅读下一份指南：
➡️ **[固件刷写指南](flashing_guide.md)**